# 癒家よしなに - デジタル回数券アプリ

## 概要
デジタル回数券の購入・管理・利用ができるWebアプリケーションです。

## URL
- メインページ: https://getabako.github.io/yoshinaniApp/
- 購入ページ: https://getabako.github.io/yoshinaniApp/register.html
- 管理者ページ: https://getabako.github.io/yoshinaniApp/admin.html

## 機能

### 1. 回数券購入（register.html）
- 顧客情報（名前、メールアドレス）の登録
- メニュー選択：
  - 本格足裏健康法：6,330円
  - シナジードライヘッドスパ90or足裏角質ケア90：6,500円
  - シナジードライヘッドスパ120：8,700円
- 回数選択：3回、5回、10回
- 料金の自動計算

### 2. 回数券利用（index.html）
- 名前とメールアドレスでログイン
- 回数券の残り回数表示
- スタンプ機能
- スタンプ数に応じた精算（残り回数が減少）
- 回数券が0回になったら再購入ボタン表示

### 3. 管理者ページ（admin.html）
- 顧客一覧の表示
- 統計情報（総顧客数、発行回数券数、総利用回数、総売上）
- **個別顧客のCSVダウンロード機能**
- 全顧客データのCSVダウンロード
- 回数券データのCSVダウンロード

## データの保存について

### 重要：CSVファイルの保存方法

このアプリケーションはGitHub Pagesでホスティングされているため、**サーバー側で自動的にCSVファイルを生成・保存することはできません**。

代わりに、以下の方法でデータを管理します：

1. **ユーザーデータの保存先**
   - ユーザーの回数券購入情報は、ブラウザの`localStorage`に保存されます
   - データは各ユーザーのブラウザに保存されるため、別のデバイスやブラウザからはアクセスできません

2. **CSVファイルのダウンロード方法**
   - 管理者ページ（admin.html）にアクセス
   - 各顧客の行にある「CSV出力」ボタンをクリック
   - `顧客名.csv`ファイルがダウンロードされます
   - このファイルには以下の情報が含まれます：
     - 名前
     - メールアドレス
     - 購入履歴（メニュー、回数、購入日）

3. **全データのダウンロード**
   - 管理者ページの「全顧客データをCSVでダウンロード」ボタン
   - 「回数券データをCSVでダウンロード」ボタン

### memberフォルダについて
- `/member/`フォルダはGitHubリポジトリに存在しますが、空です（dammy.txtのみ）
- これは、静的ホスティングではサーバー側でファイルを作成できないためです
- 必要に応じて、管理者ページからCSVをダウンロードし、手動で保存してください

## 使い方

### 初回利用（購入）
1. https://getabako.github.io/yoshinaniApp/register.html にアクセス
2. 名前、メールアドレス、メニュー、回数を選択
3. 「決済へ進む」ボタンをクリック
4. 購入内容を確認して「購入を確定する」ボタンをクリック
5. 自動的に回数券画面に遷移

### 2回目以降（ログイン）
1. https://getabako.github.io/yoshinaniApp/ にアクセス
2. 名前とメールアドレスを入力してログイン
3. カードを裏返してスタンプを押す
4. 精算ボタンで回数を減らす

### 管理者操作
1. https://getabako.github.io/yoshinaniApp/admin.html にアクセス
2. 統計情報と顧客一覧を確認
3. 必要に応じてCSVをダウンロード

## 技術スタック
- HTML/CSS/JavaScript
- localStorage（データ保存）
- GitHub Pages（ホスティング）

## 注意事項
- データはブラウザの`localStorage`に保存されるため、ブラウザのキャッシュをクリアするとデータが消えます
- 異なるデバイスやブラウザではデータを共有できません
- 本番環境で使用する場合は、バックエンドサーバーとデータベースの導入を推奨します
